{"name":"Loader","tagline":"Kohana 3.3, dynamic js/css file loading","body":"# Loader\r\n\r\n##  What is a Loader ? \r\n \r\n### This is a module for auto loading Js & css files dynamically. \r\n You can ask for what. So the profit is : \r\n \r\n 1. no huge arrays in avery action  \r\n 2. load only those files that you are interested in. \r\n 3. loading files with dependencies, without duplication, even \r\n    if those files were already loaded. \r\n 4. call for files in widget, action, view, or where ever you can =) \r\n 5. load js files in footer or header only changing 1 flag =) !!! \r\n \r\n## Prepare the Loader\r\n\r\n1. place event.php from this package, or kohana 2.4 to application/classes/ \r\n2. place loader.php in /application/classes/ directory \r\n3. modify your base controller after() method like this: \r\n\r\n    >public function after(){\r\n    \r\n       >parent::after(); </br>\r\n       Event::add('system.display', array('Loader', 'load_files')); \r\n    \r\n    >}  \r\n\r\n4. modify index.php (move execute() to bootstrap.php) \r\n5. modify bootstrap.php like this : \r\n\r\n    >$req = Request::factory()->execute()->send_headers()->body();\r\n    \r\n    >Event::run('system.display', $req);  <br/> \r\n    \r\n    >echo $req;  <br/> \r\n \r\nnow all should work! =) \r\n\r\n## Using the Loader\r\n\r\nAll of the methods defined by the Loader class are static, there is \r\nno need to instantiate the class as an object. \r\n \r\n\r\n## Usage Examples\r\n\r\n#### simple loading css to head  \r\n Loader::load_css($files_css); \r\n\r\n#### simple loding js to head of layout \r\n Loader::load_js($files_js, Loader::POS_HEADER); \r\n \r\n#### simple loding js to footer of layout \r\n Loader::load_js($files_js, Loader::POS_FOOTER); \r\n \r\n#### loding js to head of footer of layout, with loading dependencies \r\n Loader::load_js($file, $position, true)->depends(array('jquery'))->init(); \r\n \r\n Loader::load_js(array_of_files, Loader::POS_FOOTER, true) \r\n    ->depends(array('jquery','ckeditor'))->init(); \r\n\r\n#### simple loding dependencies for some needs(not for outgoing usage) \r\n Loader::load_dependencies(); \r\n\r\n","google":"UA-57428258-4","note":"Don't delete this file! It's used internally to help with page regeneration."}